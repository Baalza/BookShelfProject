<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <!--<noscript>
    <meta http-equiv=refresh content='0; url=http://localhost:8080/demo/error?js=disabled'>
  </noscript>-->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
    crossorigin="anonymous"
  />

</head>
<body>
<bookshelf-navbar></bookshelf-navbar>
<div class="container-fluid">
  <div class="container">
    <div class="col-auto text-center align-items-center pt-2">
      <h1 class="pt-5">Lists of Files</h1>
    </div>
    <div class="row justify-content-center text-center pt-2">
      <div class="col-2">
        <button #bisyncB id="sync" class="btn" type="button" (click)="bisync()"> <fa-icon [icon]="faArrowsRotate"></fa-icon></button>
      </div>

    </div>

      <div *ngIf="isLoading" class="overlay">
        <mat-spinner></mat-spinner>
      </div>

  </div>
</div>
<div class="container-fluid">

  <div class="row text-center pt-5">
    <div class="col-sm-12 col-md-12 col-lg-6">
      <h1 class="pt-2">FileSystem List</h1>
      <!-- AG Grid Angular Component -->
      <bookshelf-data-grid-fs></bookshelf-data-grid-fs>
    </div>
    <div class="col-sm-12 col-md-12 col-lg-6">
      <h1 class="pt-2">GoogleDrive List</h1>
      <!-- AG Grid Angular Component -->
      <bookshelf-data-grid-gd></bookshelf-data-grid-gd>
    </div>
  </div>
  <div class="row mt-3 justify-content-center text-center">
    <p *ngIf="isInvalid" class="error mt-2">Nome del file non valido,rinominare il file o selezionarne un altro.</p>

    <button type="button" class="btn btn-primary mt-3" (click)="open(staticBackdrop)">
      Upload File
    </button>

  </div>

</div>
<!-- Modal -->
<ng-template #staticBackdrop let-modal>

  <div class="">

      <div class="modal-header justify-content-center text-center">
        <h5 class="modal-title" id="staticBackdropLabel">Upload File</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="fileForm" (submit)="onSubmit()" class="row g-3 justify-content-center" enctype="multipart/form-data">

          <div class="col-auto">
            <div class="mb-3">
              <label for="formFile" class="form-label">Default file input example</label>
              <input class="form-control" type="file" id="formFile" name="file" formControlName="file" (change)="loadFile($event)">
            </div>
          </div>
          <div class="row justify-content-center">
            <div class="col-auto">
              <button id="submitFile" type="submit" value="submit" class="btn btn-primary mb-1">Upload File</button>
              <a
                href="#"
                data-bs-toggle="tooltip"
                data-bs-title="Seleziona un file per fare l'upload"
              ><i class="fa-solid fa-question fa-lg ms-3"></i></a>

            </div>

          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="close(staticBackdrop)">Close</button>
      </div>
    </div>


</ng-template>
<!-- Modal -->





<!-- Modal -->


<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
  crossorigin="anonymous">
</script>

</body>
</html>
